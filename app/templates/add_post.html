<!-- extend from base layout -->
{% extends "base.html" %}

{% block head_css %}
    {{ super() }}
    <link rel=stylesheet type=text/css href= "{{ url_for('static', filename='css/simpleMDE/simplemde.min.css') }}">
{% endblock %}

{% block head_js %}
    {{ super() }}
    <script type="text/javascript" src="{{ url_for('static', filename='js/simpleMDE/simplemde.min.js') }}"></script>
{% endblock %}


{% block content %}

<script>
window.onload = function() {
    var post_data = {{ data | safe }};
    var simplemde = new SimpleMDE( {element: document.getElementById("blog_post_markdown") });
    simplemde.value(post_data.body_markdown);

    $('#blog_post_title').val(post_data.title);
};
</script>


<form action="" method="post" id="add-post-form" name="add_post">
    {{form.hidden_tag()}}
    
    <h3>Post Title </h3>
    <input id="blog_post_title" name="blog_post_title" type="text"> </input>

    <h3>Post Content (Markdown) </h3>
    <textarea style="height=200px; width=300px;" id="blog_post_markdown" name="blog_post_markdown"></textarea>

    <input type="submit" id="save-post" value="Save Post">
</form>
{% endblock %}
